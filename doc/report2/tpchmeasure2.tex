\documentclass[11pt,a4paper]{jsarticle}

\usepackage{amsmath,amssymb}
\usepackage{bm}
\usepackage{graphicx}
\usepackage{ascmac}
\usepackage{subfigure}
\newlength{\subfigwidth}
\newlength{\subfigcolsep}
\setlength{\subfigcolsep}{2\tabcolsep}
\setkeys{Gin}{width=\subfigwidth}
\graphicspath{{../img/}}

\title{TPC-Hによるiodriveの性能計測}
\author{鈴木恵介}

\begin{document}
\maketitle
\section{概要}
\begin{itemize}
 \item iodrive 8luでraid0を構築(chunk size = 64KB)
 \item raid上にpostgresqlのtable spaceを作りこの上にDBを載せる
 \item 各tableのprimary key上にB-tree indexを構築
 \item scale factor = 100
 \item Query1-10について実行時間を測定、また1秒おきにiostatで監視
\end{itemize}

\section{結果}
図ではMBPS、IOPS、CPU使用率、disk使用率の推移をplot

\newpage
\subsection{Query 1}
実行時間 : 61m8.672s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q1thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q1util.eps}}
 \end{minipage}
  \caption{Query 1}
  \label{fig:q1}
\end{figure}

\subsection{Query 2}
実行時間 : 2m26.003s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q2thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q2util.eps}}
 \end{minipage}
  \caption{Query 2}
  \label{fig:q2}
\end{figure}

\newpage
\subsection{Query 3}
実行時間 : 8m37.357s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q3thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q3util.eps}}
 \end{minipage}
  \caption{Query 3}
  \label{fig:q3}
\end{figure}

\subsection{Query 4}
実行時間 : 8m23.797s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q4thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q4util.eps}}
 \end{minipage}
  \caption{Query 4}
  \label{fig:q4}
\end{figure}

\newpage
\subsection{Query 5}
実行時間 : 9m58.854s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q5thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q5util.eps}}
 \end{minipage}
  \caption{Query 5}
  \label{fig:q5}
\end{figure}

\subsection{Query 6}
実行時間 : 4m15.942s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q6thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q6util.eps}}
 \end{minipage}
  \caption{Query 6}
  \label{fig:q6}
\end{figure}

\subsection{Query 7}
実行時間 : 8m47.246s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q7thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q7util.eps}}
 \end{minipage}
  \caption{Query 7}
  \label{fig:q7}
\end{figure}

\subsection{Query 8}
実行時間 : 10m14.357s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q8thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q8util.eps}}
 \end{minipage}
  \caption{Query 8}
  \label{fig:q8}
\end{figure}

\subsection{Query 9}
実行時間 : 34m27.994s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q9thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q9util.eps}}
 \end{minipage}
  \caption{Query 9}
  \label{fig:q9}
\end{figure}

\subsection{Query 10}
実行時間 : 10m57.973s

\begin{figure}[bthp]
 \setlength{\subfigwidth}{.5\linewidth}
 \addtolength{\subfigwidth}{-.5\subfigcolsep}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[MBPS and IOPS]{\includegraphics[width=70mm]{q10thio.eps}}
 \end{minipage}
 \begin{minipage}[b]{\subfigwidth}
  \subfigure[utility]{\includegraphics[width=70mm]{q10util.eps}}
 \end{minipage}
  \caption{Query 10}
  \label{fig:q10}
\end{figure}

\end{document}
